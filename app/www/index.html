<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />

        <!-- Stylesheets -->
        <link rel="stylesheet" type="text/css" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />



        <title>Selfr</title>
    </head>
    <body>
        <div class="app">
          <h1>Selfr</h1>
          <form id="loginForm">
              <div data-role="fieldcontain" class="ui-hide-label">
                  <label for="username">Username:</label>
                  <input type="text" name="username" id="username" value="" placeholder="Username" />
              </div>

              <div data-role="fieldcontain" class="ui-hide-label">
                  <label for="password">Password:</label>
                  <input type="password" name="password" id="password" value="" placeholder="Password" />
              </div>

              <input type="submit" value="Login" id="submitButton">
          </form>
        </div>




        <!-- Javascript -->
      <script type="text/javascript" src="cordova.js"></script>
      <script type="text/javascript" charset="utf-8"  src="js/jquery-1.11.1.min.js"></script>
      <script type="text/javascript" charset="utf-8"  src="js/jquery.mobile-1.4.5.min.js"></script>

      <script type="text/javascript" src"js/index.js"></script>
      <script type="text/javascript">

      var server_url = "";

      document.addEventListener("deviceready", onDeviceReady, false);

      function onDeviceReady() {
        console.log('Selfr is ready...');

        $("#loginForm").on("submit",function(e) {
          console.log('Clicked...');

          $("#submitButton", this).attr("disabled","disabled");

          var u = $("#username", this).val(),
            p = $("#password", this).val();

          if (u !== '' && p !== '') {
            var res = true;
            if (res === true) {
              $.mobile.changePage("camera.html", {
                allowSamePageTransition:true,
                reloadPage:false,
                changeHash:true,
                transition:"slide"
              });
            } else {
              navigator.notification.alert(
                'No selfies for you',
                function() {},
                "You narcissist. Don't remember your password?",
                'I love selfies');
            }
            $("#submitButton").removeAttr("disabled");

            // $.post(server_url, {
            //   username : u,
            //   password : p
            // }, function (res) {
            //   console.log('posted');
            //   res = true;
            //   if (res === true) {
            //     $.mobile.changePage("camera.html",{allowSamePageTransition:true,reloadPage:false,changeHash:true,transition:"slide"});
            //   } else {
            //     navigator.notification.alert(
            //       "You narcissist. Make an account first.",
            //       function() {},
            //       'No selfies for you',
            //       'I love selfies');
            //   }
            //   $("#submitButton").removeAttr("disabled");
            // }, "json");
          }
          return false;
        });
      }

      function alertDismissed() {
          // do something
      }
    </script>



    </body>
</html>
